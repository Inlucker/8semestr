\chapter{Исследовательский раздел}
\label{cha:research}

Ниже приведены технические характеристики устройства, на котором были проведены эксперименты при помощи разработанного ПО:
\begin{itemize}
	\item операционная система: Windows 10 (64-разрядная);
	\item оперативная память: 32 GB;
	\item процессор: Intel(R) Core(TM) i7-7700K CPU @ 4.20GHz;
	\item количество ядер: 4;
	\item количество потоков: 8.
\end{itemize}

\section{Сравнительный анализ времени выполнения метода в зависимости от параметров}

Чтобы провести сравнительный анализ времени выполнения  метода, замерялось время выполнения метода с разными значениями параметров и количеством записей 1000 раз, а затем делилось на количество замеров.
При изменении минимального уровня поддержки параметр min\_gap был равен нулю, а max\_gap имел максимально возможное значение (2147483647).
При изменении минимального разрыва между командами параметр min\_sup был равен 0.01, а max\_gap также имел максимально возможное значение.
При изменении максимального разрыва между командами параметр min\_sup был равен 0.01, а min\_gap нулю.
На рисунках \ref{min_sup}-\ref{max_gap} представлены результаты исследования в виде графиков.

\begin{figure}
	\begin{tikzpicture}
		\begin{axis}[
			xlabel={Значение параметра min\_sup},
			ylabel={Время выполнения, сек.},
			xtick={0.10,0.09,0.08,0.07,0.06,0.05,0.04,0.03,0.02,0.01},
			every x tick label/.append style  =
			{ 
				/pgf/number format/.cd,
				precision = 2, 
				fixed
			},
			x dir=reverse,
			legend pos=north west,
			ymajorgrids=true,
			grid style=dashed,
			width = 400
			]
			
			\addplot[
			color=blue,
			mark=square,
			]
			coordinates {
				(0.1, 0.376372)(0.09, 0.382635)(0.08, 0.382464)(0.07, 0.409327)(0.06, 0.43687)(0.05, 0.473489)(0.04, 0.529811)(0.03, 0.639384)(0.02, 1.0321)(0.01, 4.58053)
			};
			\addlegendentry{60 000 записей}
			
			\addplot[
			color=green,
			mark=triangle,
			]
			coordinates {
				(0.1, 0.354224)(0.09, 0.352541)(0.08, 0.353734)(0.07, 0.372097)(0.06, 0.407034)(0.05, 0.442177)(0.04, 0.49733)(0.03, 0.614814)(0.02, 0.998154)(0.01, 3.48953)
			};
			\addlegendentry{30 000 записей}
			
			\addplot[
			color=red,
			mark=diamond,
			]
			coordinates {
				(0.1, 0.199793)(0.09, 0.205243)(0.08, 0.206765)(0.07, 0.207898)(0.06, 0.229079)(0.05, 0.235248)(0.04, 0.246667)(0.03, 0.289968)(0.02, 0.403613)(0.01, 0.960562)
			};
			\addlegendentry{10 000 записей}
			
			\addplot[
			color=purple,
			mark=halfcircle,
			]
			coordinates {
				(0.1, 0.00295071)(0.09, 0.00349172)(0.08, 0.00359662)(0.07, 0.00455476)(0.06, 0.00549812)(0.05, 0.00801937)(0.04, 0.011208)(0.03, 0.0146977)(0.02, 0.0445853)(0.01, 0.390755)
			};
			\addlegendentry{1 000 записей}
			
		\end{axis}
	\end{tikzpicture}
	\caption{Зависимость времени выполнения метода от минимальной поддержки}
	\label{min_sup}
\end{figure}

%\newpage
%\begin{figure}
%	\begin{tikzpicture}
%		\begin{axis}[
%			xlabel={Значение параметра min\_sup},
%			ylabel={\raisebox{-5ex}{}{Время выполнения, сек.}},
%			xtick={0.10,0.09,0.08,0.07,0.06,0.05,0.04,0.03,0.02,0.01},
%			every x tick label/.append style  =
%			{ 
%				/pgf/number format/.cd,
%				precision = 2, 
%				fixed
%			},
%			every y tick label/.append style  =
%			{ 
%				/pgf/number format/.cd,
%				precision = 2, 
%				fixed
%			},
%			x dir=reverse,
%			legend pos=north west,
%			ymajorgrids=true,
%			grid style=dashed,
%			width = 400
%			]
%			
%			\addplot[
%			color=blue,
%			mark=square,
%			]
%			coordinates {
%				(0.1, 0.0036317)(0.09, 0.00384334)(0.08, 0.00363073)(0.07, 0.00360285)(0.06, 0.00424572)(0.05, 0.00640677)(0.04, 0.00747588)(0.03, 0.0104934)(0.02, 0.0216077)(0.01, 0.104929)
%			};
%			\addlegendentry{Весь метод 1352}
%			
%%			\addplot[
%%			color=green,
%%			mark=square,
%%			]
%%			coordinates {
%%				(0.1, 5.2486e-05)(0.09, 6.1001e-05)(0.08, 5.4649e-05)(0.07, 5.6883e-05)(0.06, 8.6487e-05)(0.05, 0.000146292)(0.04, 0.000209362)(0.03, 0.000462079)(0.02, 0.00112166)(0.01, 0.0143915)
%%			};
%%			\addlegendentry{Генерация кандидатов}
%%			
%%			\addplot[
%%			color=red,
%%			mark=square,
%%			]
%%			coordinates {
%%				(0.1, 0.00357922)(0.09, 0.00378234)(0.08, 0.00357608)(0.07, 0.00354596)(0.06, 0.00415923)(0.05, 0.00626048)(0.04, 0.00726652)(0.03, 0.0100313)(0.02, 0.0204861)(0.01, 0.0905371)
%%			};
%%			\addlegendentry{Подсчет поддержки}
%			
%		\end{axis}
%	\end{tikzpicture}
%	\caption{Зависимость времени выполнения метода от минимальной поддержки для 1352 записей}
%\end{figure}

\newpage
\begin{figure}
	\begin{tikzpicture}
		\begin{axis}[
			xlabel={Значение параметра min\_gap, сек},
			ylabel={Время выполнения, сек.},
			xtick={0, 20, 40, 60, 80, 100, 120, 140, 160, 180},
			legend style={at={(0.5,-0.15)},anchor=north},
			ymajorgrids=true,
			grid style=dashed,
			width = 400
			]
			
			\addplot[
			color=blue,
			mark=square,
			]
			coordinates {
				(0, 4.33738)(20, 3.41152)(40, 3.19468)(60, 3.07372)(80, 3.00723)(100, 2.96246)(120, 2.96985)(140, 2.91395)(160, 2.89162)(180, 2.80482)
			};
			\addlegendentry{60 000 записей}
			
			\addplot[
			color=green,
			mark=triangle,
			]
			coordinates {
				(0, 3.10766)(20, 2.64894)(40, 2.52618)(60, 2.48313)(80, 2.46696)(100, 2.43923)(120, 2.3821)(140, 2.37741)(160, 2.32381)(180, 2.31329)
			};
			\addlegendentry{30 000 записей}
			
			\addplot[
			color=red,
			mark=diamond,
			]
			coordinates {
				(0, 1.0528)(20, 0.913673)(40, 0.925859)(60, 0.935208)(80, 0.902877)(100, 0.913922)(120, 0.922235)(140, 0.939793)(160, 0.956656)(180, 0.929664)
			};
			\addlegendentry{10 000 записей}
			
			\addplot[
			color=purple,
			mark=halfcircle,
			]
			coordinates {
				(0, 0.386292)(20, 0.0823554)(40, 0.0712754)(60, 0.0650342)(80, 0.0622088)(100, 0.0612203)(120, 0.0595386)(140, 0.0584734)(160, 0.0578729)(180, 0.0579757)
			};
			\addlegendentry{1 000 записей}
			
%			\addplot[
%			color=green,
%			mark=square,
%			]
%			coordinates {
%				(0, 0.122877)(20, 0.0362749)(40, 0.0262986)(60, 0.0216105)(80, 0.019992)(100, 0.0163506)(120, 0.0155712)(140, 0.0143469)(160, 0.0133493)(180, 0.0125749)
%			};
%			\addlegendentry{Генерация кандидатов}
%			
%			\addplot[
%			color=red,
%			mark=square,
%			]
%			coordinates {
%				(0, 4.2145)(20, 3.37525)(40, 3.16838)(60, 3.05211)(80, 2.98724)(100, 2.94611)(120, 2.95428)(140, 2.89961)(160, 2.87827)(180, 2.79225)
%			};
%			\addlegendentry{Подсчет поддержки}
			
		\end{axis}
	\end{tikzpicture}
	\caption{Зависимость времени выполнения метода от минимального разрыва}
	\label{min_gap}
\end{figure}


\newpage
\begin{figure}
	\begin{tikzpicture}
		\begin{axis}[
			xlabel={Значение параметра max\_gap, сек},
			ylabel={Время выполнения, сек.},
			xtick={20000, 18000, 16000, 14000, 12000, 10000, 8000, 6000, 4000, 2000},
			x dir=reverse,
			legend style={at={(0.5,-0.15)},anchor=north},
			ymajorgrids=true,
			grid style=dashed,
			width = 400
			]
			
			\addplot[
			color=blue,
			mark=square,
			]
			coordinates {
				(20000, 3.93115)(18000, 3.9389)(16000, 3.91411)(14000, 3.90713)(12000, 3.88285)(10000, 3.85252)(8000, 3.79783)(6000, 3.68784)(4000, 3.56861)(2000, 3.4265)
			};
			\addlegendentry{60 000 записей}
			
			\addplot[
			color=green,
			mark=triangle,
			]
			coordinates {
				(20000, 3.05755)(18000, 3.02128)(16000, 3.02018)(14000, 3.01168)(12000, 2.98119)(10000, 2.95056)(8000, 2.94523)(6000, 2.94596)(4000, 2.89728)(2000, 2.78783)
			};
			\addlegendentry{30 000 записей}
			
			\addplot[
			color=red,
			mark=diamond,
			]
			coordinates {
				(20000, 0.918225)(18000, 0.940078)(16000, 0.935649)(14000, 0.923022)(12000, 0.930381)(10000, 0.940537)(8000, 0.932942)(6000, 0.941201)(4000, 0.926399)(2000, 0.930212)
			};
			\addlegendentry{10 000 записей}
			
			\addplot[
			color=purple,
			mark=halfcircle,
			]
			coordinates {
				(20000, 0.385478)(18000, 0.399072)(16000, 0.38928)(14000, 0.399727)(12000, 0.371035)(10000, 0.379102)(8000, 0.363999)(6000, 0.346938)(4000, 0.342083)(2000, 0.272336)
			};
			\addlegendentry{1 000 записей}
			
%			\addplot[
%			color=green,
%			mark=square,
%			]
%			coordinates {
%				(20000, 0.0844768)(18000, 0.0861412)(16000, 0.0841353)(14000, 0.082493)(12000, 0.0825579)(10000, 0.078365)(8000, 0.0738619)(6000, 0.0667029)(4000, 0.059013)(2000, 0.0498105)
%			};
%			\addlegendentry{Генерация кандидатов}
%			
%			\addplot[
%			color=red,
%			mark=square,
%			]
%			coordinates {
%				(20000, 3.84667)(18000, 3.85276)(16000, 3.82997)(14000, 3.82463)(12000, 3.80029)(10000, 3.77415)(8000, 3.72397)(6000, 3.62114)(4000, 3.50959)(2000, 3.37669)
%			};
%			\addlegendentry{Подсчет поддержки}
			
		\end{axis}
	\end{tikzpicture}
	\caption{Зависимость времени выполнения метода от максимального разрыва}
	\label{max_gap}
\end{figure}

\newpage
\section{Сравнительный анализ времени выполнения этапов метода}

Чтобы провести сравнительный анализ времени выполнения этапов метода, замерялось их время выполнения с разными значениями минимальной поддержки
и количеством записей
1000 раз, а затем делилось на количество замеров.
Параметр min\_gap был равен нулю, а max\_gap имел максимально возможное значение
%На рисунках \ref{gen_count_60k}-\ref{gen_count_1k} представлены результаты
На рисунке \ref{gen_count_60k} представлен результат
исследования в виде графиков.

\begin{figure}
	\begin{tikzpicture}
		\begin{axis}[
			xlabel={Значение параметра min\_sup},
			ylabel={Время выполнения, сек.},
			xtick={0.10,0.09,0.08,0.07,0.06,0.05,0.04,0.03,0.02,0.01},
			every x tick label/.append style  =
			{ 
				/pgf/number format/.cd,
				precision = 2, 
				fixed
			},
			x dir=reverse,
			legend pos=north west,
%			legend style={at={(0.5,1.15)},anchor=north},
			ymajorgrids=true,
			grid style=dashed,
			width = 400
			]
			
%			\addplot[
%			color=blue,
%			mark=square,
%			]
%			coordinates {
%				(0.1, 0.376372)(0.09, 0.382635)(0.08, 0.382464)(0.07, 0.409327)(0.06, 0.43687)(0.05, 0.473489)(0.04, 0.529811)(0.03, 0.639384)(0.02, 1.0321)(0.01, 4.58053)
%			};
%			\addlegendentry{60 000 записей}
			
			\addplot[
			color=green,
			mark=halfcircle,
			]
			coordinates {
					(0.1, 0.000373886)(0.09, 0.000386969)(0.08, 0.000392265)(0.07, 0.000473179)(0.06, 0.000564197)(0.05, 0.000684211)(0.04, 0.000867599)(0.03, 0.0013237)(0.02, 0.00413822)(0.01, 0.125315)
				};
			\addlegendentry{Генерация кандидатов}
			
			\addplot[
			color=red,
			mark=triangle,
			]
			coordinates {
					(0.1, 0.375998)(0.09, 0.382248)(0.08, 0.382072)(0.07, 0.408854)(0.06, 0.436306)(0.05, 0.472805)(0.04, 0.528943)(0.03, 0.63806)(0.02, 1.02797)(0.01, 4.45521)
				};
			\addlegendentry{Подсчет поддержки}
			
		\end{axis}
	\end{tikzpicture}
	\caption{Зависимость времени выполнения разных этапов метода от минимальной поддержки для 66788 записей}
	\label{gen_count_60k}
\end{figure}

%\newpage
%\begin{figure}
%	\begin{tikzpicture}
%		\begin{axis}[
%			xlabel={Значение параметра min\_sup},
%			ylabel={Время выполнения, сек.},
%			xtick={0.10,0.09,0.08,0.07,0.06,0.05,0.04,0.03,0.02,0.01},
%			every x tick label/.append style  =
%			{ 
%				/pgf/number format/.cd,
%				precision = 2, 
%				fixed
%			},
%			x dir=reverse,
%			legend pos=north west,
%%			legend style={at={(0.5,1.15)},anchor=north},
%			ymajorgrids=true,
%			grid style=dashed,
%			width = 400
%			]
%			
%%						\addplot[
%%						color=blue,
%%						mark=square,
%%						]
%%						coordinates {
%%								(0.1, 0.354224)(0.09, 0.352541)(0.08, 0.353734)(0.07, 0.372097)(0.06, 0.407034)(0.05, 0.442177)(0.04, 0.49733)(0.03, 0.614814)(0.02, 0.998154)(0.01, 3.48953)
%%							};
%%						\addlegendentry{60 000 записей}
%			
%			\addplot[
%			color=green,
%			mark=halfcircle,
%			]
%			coordinates {
%				(0.1, 0.000361455)(0.09, 0.00037457)(0.08, 0.000380295)(0.07, 0.000440655)(0.06, 0.000543275)(0.05, 0.00064863)(0.04, 0.000844175)(0.03, 0.00122285)(0.02, 0.00318916)(0.01, 0.0585703)
%			};
%			\addlegendentry{Генерация кандидатов}
%			
%			\addplot[
%			color=red,
%			mark=triangle,
%			]
%			coordinates {
%				(0.1, 0.353862)(0.09, 0.352166)(0.08, 0.353354)(0.07, 0.371656)(0.06, 0.40649)(0.05, 0.441528)(0.04, 0.496486)(0.03, 0.613591)(0.02, 0.994965)(0.01, 3.43096)
%			};
%			\addlegendentry{Подсчет поддержки}
%			
%		\end{axis}
%	\end{tikzpicture}
%	\caption{Зависимость времени выполнения разных этапов метода от минимальной поддержки для 30687 записей}
%	\label{gen_count_30k}
%\end{figure}
%
%\newpage
%\begin{figure}
%	\begin{tikzpicture}
%		\begin{axis}[
%			xlabel={Значение параметра min\_sup},
%			ylabel={Время выполнения, сек.},
%			xtick={0.10,0.09,0.08,0.07,0.06,0.05,0.04,0.03,0.02,0.01},
%			every x tick label/.append style  =
%			{ 
%				/pgf/number format/.cd,
%				precision = 2, 
%				fixed
%			},
%			x dir=reverse,
%			legend pos=north west,
%			%			legend style={at={(0.5,1.15)},anchor=north},
%			ymajorgrids=true,
%			grid style=dashed,
%			width = 400
%			]
%			
%			%			\addplot[
%			%			color=blue,
%			%			mark=square,
%			%			]
%			%			coordinates {
%				%						(0.1, 0.199793)(0.09, 0.205243)(0.08, 0.206765)(0.07, 0.207898)(0.06, 0.229079)(0.05, 0.235248)(0.04, 0.246667)(0.03, 0.289968)(0.02, 0.403613)(0.01, 0.960562)
%				%					};
%			%			\addlegendentry{Весь метод}
%			
%			\addplot[
%			color=green,
%			mark=halfcircle,
%			]
%			coordinates {
%				(0.1, 0.000230875)(0.09, 0.00024823)(0.08, 0.00024957)(0.07, 0.000251705)(0.06, 0.000325405)(0.05, 0.000356705)(0.04, 0.00039176)(0.03, 0.00052578)(0.02, 0.000957855)(0.01, 0.00315482)
%			};
%			\addlegendentry{Генерация кандидатов}
%			
%			\addplot[
%			color=red,
%			mark=triangle,
%			]
%			coordinates {
%				(0.1, 0.199562)(0.09, 0.204995)(0.08, 0.206516)(0.07, 0.207646)(0.06, 0.228754)(0.05, 0.234892)(0.04, 0.246276)(0.03, 0.289443)(0.02, 0.402655)(0.01, 0.957408)
%			};
%			\addlegendentry{Подсчет поддержки}
%			
%		\end{axis}
%	\end{tikzpicture}
%	\caption{Зависимость времени выполнения разных этапов метода от минимальной поддержки для 10223 записей}
%	\label{gen_count_10k}
%\end{figure}
%
%\newpage
%\begin{figure}
%	\begin{tikzpicture}
%		\begin{axis}[
%			xlabel={Значение параметра min\_sup},
%			ylabel={Время выполнения, сек.},
%			xtick={0.10,0.09,0.08,0.07,0.06,0.05,0.04,0.03,0.02,0.01},
%			every x tick label/.append style  =
%			{ 
%				/pgf/number format/.cd,
%				precision = 2, 
%				fixed
%			},
%			x dir=reverse,
%			legend pos=north west,
%			%			legend style={at={(0.5,1.15)},anchor=north},
%			ymajorgrids=true,
%			grid style=dashed,
%			width = 400
%			]
%			
%%			\addplot[
%%			color=blue,
%%			mark=square,
%%			]
%%			coordinates {
%%						(0.1, 0.0036317)(0.09, 0.00384334)(0.08, 0.00363073)(0.07, 0.00360285)(0.06, 0.00424572)(0.05, 0.00640677)(0.04, 0.00747588)(0.03, 0.0104934)(0.02, 0.0216077)(0.01, 0.104929)
%%					};
%%			\addlegendentry{Весь метод}
%			
%			\addplot[
%			color=green,
%			mark=halfcircle,
%			]
%			coordinates {
%				(0.1, 5.2486e-05)(0.09, 6.1001e-05)(0.08, 5.4649e-05)(0.07, 5.6883e-05)(0.06, 8.6487e-05)(0.05, 0.000146292)(0.04, 0.000209362)(0.03, 0.000462079)(0.02, 0.00112166)(0.01, 0.0143915)
%			};
%			\addlegendentry{Генерация кандидатов}
%			
%			\addplot[
%			color=red,
%			mark=triangle,
%			]
%			coordinates {
%				(0.1, 0.00357922)(0.09, 0.00378234)(0.08, 0.00357608)(0.07, 0.00354596)(0.06, 0.00415923)(0.05, 0.00626048)(0.04, 0.00726652)(0.03, 0.0100313)(0.02, 0.0204861)(0.01, 0.0905371)
%			};
%			\addlegendentry{Подсчет поддержки}
%			
%		\end{axis}
%	\end{tikzpicture}
%	\caption{Зависимость времени выполнения разных этапов метода от минимальной поддержки для 1352 записей}
%	\label{gen_count_1k}
%\end{figure}

\newpage
\section*{Вывод из исследовательского раздела}
В данном разделе был проведен анализ времени выполнения метода в зависимости от параметров и времени выполнения его этапов.

Как и ожидалось, при уменьшении минимального уровня поддержки, время выполнения будет расти т.к. в таком случае больше последовательностей будут проходить отбор. Особенно видна разница между временем выполнения при значениях минимальной поддержки $0.02$ и $0.01$.

При увеличении минимального разрыва между командами, время выполнения уменьшается т.к. в таком случае получается меньше последовательностей из-за увеличения ограничения. К тому же, чем больше записей в базе данных, тем сильнее влияет изменения параметра min\_gap.

При уменьшении максимального разрыва между командами, время выполнения тоже уменьшается, потому что в этой ситуации, также получается меньше последовательностей проходят ограничения.

В результате анализа времени выполнения разных этапов метода, можно сделать вывод, что подсчет поддержки кандидатов занимает большую часть времени, чем их генерация.